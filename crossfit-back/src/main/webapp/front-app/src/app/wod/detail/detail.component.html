<mat-progress-bar mode="indeterminate" *ngIf="!wod"></mat-progress-bar>

<div class="wod-container" *ngIf="wod">

  <div class="wod-infos">
    <mat-card>
      <mat-card-title><span *ngIf="wod.category != 'CUSTOM'">{{'wod.category.' + wod.category | translate}}: </span>{{wod.name}}</mat-card-title>
      <mat-card-subtitle>
        {{'wod.score.' + wod.score | translate}}
      </mat-card-subtitle>
      <mat-card-content style="white-space: pre;">
      
      {{wod.description}}
      
      </mat-card-content>
      <mat-card-actions>
        <a [routerLink]="['..','edit']">
          <button mat-button >
            <mat-icon attr.aria-label="{{'wod.edit.button.label' | translate}}">edit</mat-icon>
          </button>
        </a>
        <a [routerLink]="['..','delete']">
          <button mat-button >
            <mat-icon attr.aria-label="{{'wod.delete.button.label' | translate}}">delete</mat-icon>
          </button>
        </a>
      </mat-card-actions>
    </mat-card>  
    
    <mat-card>
      <mat-card-title>Publications du wod</mat-card-title>
      <mat-card-content>
        <mat-nav-list dense>
            <mat-list-item *ngFor="let pub of wod.publications">
              
              <mat-icon matListIcon>{{pub.startAt === pub.endAt ? 'calendar_today' : 'date_range'}}</mat-icon>
              <span > {{pub.startAt | date:'dd/MM/yyyy'}} </span>
              <span *ngIf="pub.startAt != pub.endAt">&nbsp;au {{pub.endAt | date:'dd/MM/yyyy'}}</span>
              
            </mat-list-item>
          </mat-nav-list>            
      </mat-card-content>
    </mat-card>
  </div>


  <mat-tab-group>
    <mat-tab label="Classement">
        <ng-template mat-tab-label>
            <mat-icon>bar_chart</mat-icon>
        </ng-template>
        <app-ranking [wod]="wod"></app-ranking>
    </mat-tab>
  </mat-tab-group>
</div>
