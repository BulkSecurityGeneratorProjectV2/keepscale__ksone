<mat-progress-bar mode="indeterminate" *ngIf="!wod || !wodResults"></mat-progress-bar>

<div class="wod-container" *ngIf="wod && wodResults">

  <form novalidate (ngSubmit)="onSubmit()">

    <mat-expansion-panel [expanded]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>
            {{'wod.score.' + wod.score | translate}}
        </mat-panel-title>
        <mat-panel-description>
            {{'wod.category.' + wod.category | translate}}
            {{wod.name}}
        </mat-panel-description>
      </mat-expansion-panel-header>

      <p style="white-space: pre;">{{wod.description}}</p>

      <mat-tab-group  [dynamicHeight]="true">
        <mat-tab *ngFor="let myresult of wodResults"  label="{{myresult.date | date: 'EEE, dd MMMM yyyy'}}">

          <nav mat-tab-nav-bar>
              <a mat-tab-link
                  [routerLink]="[myresult.date, 'myresult']"
                  routerLinkActive #rla="routerLinkActive" [routerLinkActiveOptions]="{exact: true}"
                  [active]="rla.isActive">
                Mon r√©sultat
              </a>
              <a mat-tab-link
                  [routerLink]="[myresult.date, 'ranking']"
                  routerLinkActive #rla2="routerLinkActive" [routerLinkActiveOptions]="{exact: true}"
                  [active]="rla2.isActive">
                Classement
              </a>
          </nav>
          
          <router-outlet></router-outlet>
          
        </mat-tab>
      </mat-tab-group>


      <div class="form-footer">
          <submit-button></submit-button>
    
          <mat-progress-bar mode="indeterminate" *ngIf="status=='wait'"></mat-progress-bar>
      </div>
    </mat-expansion-panel>
  </form>

</div>
