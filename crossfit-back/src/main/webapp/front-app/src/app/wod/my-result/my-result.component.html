<mat-progress-bar mode="indeterminate" *ngIf="!wod || !wodResults"></mat-progress-bar>

<div class="wod-container" *ngIf="wod && wodResults">

  <form novalidate (ngSubmit)="onSubmit()">

      <mat-accordion>
        <mat-expansion-panel [expanded]="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
                {{'wod.score.' + wod.score | translate}}
            </mat-panel-title>
            <mat-panel-description>
                {{'wod.category.' + wod.category | translate}}
                {{wod.name}}
            </mat-panel-description>
          </mat-expansion-panel-header>

          <p style="white-space: pre;">{{wod.description}}</p>

        </mat-expansion-panel>

        <mat-expansion-panel *ngFor="let pub of wod.publications; let myresult = findResultForPublication(pub)" hideToggle="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{pub.date | date: 'EEEE dd MMMM yyyy'}}
            </mat-panel-title>
            <mat-panel-description>
                Mon r√©sultat
              <mat-icon>edit</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div [ngSwitch]="wod.score" style="width: 100%">
                
  
            <mat-form-field *ngSwitchCase="'FOR_LOAD'">
              <input matInput placeholder="{{'wod.myscore.totalChargeInKilo.placeholder' | translate}}"  [(ngModel)]="myresult.totalLoadInKilo" name="result.totalChargeInKilo">
            </mat-form-field>
  
  
            <div *ngSwitchCase="'FOR_TIME'">
                <mat-form-field >
                  <input matInput placeholder="{{'wod.myscore.totalMinute.placeholder' | translate}}"  [(ngModel)]="myresult.totalMinute" name="result.totalMinute">
                </mat-form-field>
                <mat-form-field >
                  <input matInput placeholder="{{'wod.myscore.totalSecond.placeholder' | translate}}"  [(ngModel)]="myresult.totalSecond" name="result.totalSecond">
                </mat-form-field>
            </div>
  
            <div *ngSwitchCase="'FOR_ROUNDS_REPS'">
              <mat-form-field>
                  <input matInput placeholder="{{'wod.myscore.totalCompleteRound.placeholder' | translate}}"  [(ngModel)]="myresult.totalCompleteRound" name="result.totalCompleteRound">
                  <input matInput placeholder="{{'wod.myscore.totalReps.placeholder' | translate}}"  [(ngModel)]="myresult.totalReps" name="result.totalReps">
              </mat-form-field>
            </div>
  
          </div>

        </mat-expansion-panel>

      </mat-accordion>
  </form>

</div>
