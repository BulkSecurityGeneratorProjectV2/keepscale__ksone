<mat-toolbar color="primary" class="mat-elevation-z8"> 

  <mat-toolbar-row *ngIf="!showSearchToolBar">
    <button *ngIf="isAuthenticated()"
      type="button"
      aria-label="Toggle sidenav"
      mat-icon-button
      (click)="onToggleSideNav()">
      <mat-icon *ngIf="!sideNavOpened" aria-label="Side nav toggle icon">menu</mat-icon>
      <mat-icon *ngIf="sideNavOpened" aria-label="Side nav toggle icon">close</mat-icon>
    </button>


    <button mat-button mat-icon-button aria-label="Back" (click)="goBack()" *ngIf="showGoBackButton" >
      <mat-icon aria-label="{{'app.toolbar.back.button.label' | translate}">arrow_back</mat-icon>
    </button>

    <span>{{title}}</span>

    <span class="spacer"></span>

    <div class="right-action">
      <button mat-icon-button *ngIf="showSearchButton" (click)="showSearchToolBar=true">
        <mat-icon>search</mat-icon>
      </button>
      <button mat-icon-button [matMenuTriggerFor]="menu" class="overflow-menu" *ngIf="menuItems.length != 0">
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #menu="matMenu" *ngIf="menuItems.length != 0">
        <button mat-menu-item *ngFor="let item of menuItems" (click)="item.action.call(this)">
          <mat-icon>{{item.icon}}</mat-icon>
          <span>{{item.text}}</span>
        </button>
      </mat-menu>
    </div>
    <a [routerLink]="['account']" *ngIf="isAuthenticated()" title="{{displayName}}">
      <button mat-icon-button>
        <mat-icon>account_circle</mat-icon>
      </button>
    </a>
  </mat-toolbar-row>



  <mat-toolbar-row *ngIf="showSearchToolBar">
    <button mat-button mat-icon-button aria-label="Back" (click)="hideSearch()">
      <mat-icon>arrow_back</mat-icon>
    </button>
    

    <mat-form-field [floatLabel]="'never'">        
        <input #searchInput matInput type="text" placeholder="{{searchPlaceHolder}}" (keyup.enter)="search()"
          [(ngModel)]="searchText" />
        <button mat-button *ngIf="searchText" matSuffix mat-icon-button aria-label="Clear" (click)="searchText=''">
          <mat-icon>close</mat-icon>
        </button>
        <button mat-button matSuffix mat-icon-button aria-label="Search" (click)="search()">
          <mat-icon>search</mat-icon>
        </button>
    </mat-form-field>
    
  </mat-toolbar-row>
</mat-toolbar>